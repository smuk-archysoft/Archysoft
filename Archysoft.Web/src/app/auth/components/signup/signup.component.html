<form [formGroup]="myForm" novalidate (ngSubmit)="signUp(myForm)" *ngIf="!loading">
    
    <auth-notification></auth-notification>

    <mat-form-field style="width: 100%;">
        <input matInput formControlName="email" name="email" [(ngModel)]="model.email"
            placeholder="{{'AUTH.EMAIL' | translate}}">
    </mat-form-field>
    <div [hidden]="myForm.controls['email'].valid || myForm.controls['email'].untouched" class="alert alert-danger">
        {{'AUTH.EMAIL_VALIDATION' | translate}}
    </div>

    <mat-form-field style="width: 100%;">
        <input matInput formControlName="username" name="username" [(ngModel)]="model.username"
            placeholder="{{'AUTH.USER_NAME' | translate}}">
    </mat-form-field>
    <div [hidden]="myForm.controls['username'].valid || myForm.controls['username'].untouched"
        class="alert alert-danger">
        {{'AUTH.USER_NAME_VALIDATION' | translate}}
    </div>

    <mat-form-field style="width: 100%;">
        <input type="password" matInput formControlName="password" [(ngModel)]="model.password" name="password"
            placeholder="{{'AUTH.PASSWORD' | translate}}">
    </mat-form-field>
    <div [hidden]="myForm.controls['password'].valid || myForm.controls['password'].untouched"
        class="alert alert-danger">
        {{'AUTH.PASSWORD_VALIDATION' | translate}}
    </div>

    <mat-form-field style="width: 100%;">
        <input type="password" matInput formControlName="passwordConfirm" [(ngModel)]="model.passwordConfirm"
            name="passwordConfirm" placeholder="{{'AUTH.PASSWORD_CONFIRM' | translate}}">
    </mat-form-field>
    <div [hidden]="myForm.controls['passwordConfirm'].valid || myForm.controls['passwordConfirm'].untouched"
        class="alert alert-danger">
        {{'AUTH.PASSWORD_CONFIRM_VALIDATION' | translate}}
    </div>    

    <input type="file" (change)="onFileChanged($event)"
        accept=".png, .jpg, .jpeg" style="display: none" #fileInput>
        <input type="button" (click)="fileInput.click()" class="btn btn-default" value="Select File"/>

    <div class="form-group">
        <input type="submit" [disabled]="myForm.invalid" class="btn btn-default"
            value="{{'AUTH.SIGNUP' | translate}}" />

        <button type="button" mat-button color="primary" class="float-right"
            (click)="navigateToLoginForm()">{{'AUTH.BACK_TO_LOGIN_PAGE_BUTTON_LINK' | translate}}</button>
    </div>



</form>


<div class="d-flex justify-content-center" *ngIf="loading">
    <div class="spinner-border" role="status">
        <span class="sr-only">Loading...</span>
    </div>
</div>